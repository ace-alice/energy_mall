
/**
 * 由 flying services 提供技术支持
 * Powered by Hector
 */
  
var a=Math.pow;import{H as t,K as e,L as l,$ as n,Z as r,a1 as i,as as o,R as u}from"./vendor-kx7r3U2-.js";import{_ as s}from"./index-1kZVT1Y0.js";let d=0;const c="webkit moz ms o".split(" ");let p,m;if("undefined"==typeof window)p=function(){},m=function(){};else{let a;p=window.requestAnimationFrame,m=window.cancelAnimationFrame;for(let t=0;t<c.length&&(!p||!m);t++)a=c[t],p=p||window["".concat(a,"RequestAnimationFrame")],m=m||window["".concat(a,"CancelAnimationFrame")]||window["".concat(a,"CancelRequestAnimationFrame")];p&&m||(p=function(a){const t=(new Date).getTime(),e=Math.max(0,16-(t-d)),l=window.setTimeout((()=>{a(t+e)}),e);return d=t+e,l},m=function(a){window.clearTimeout(a)})}const V=s({name:"VueCountTo",props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:500},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:2,validator:a=>a>=0},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:(t,e,l,n)=>l*(1-a(2,-10*t/n))*1024/1023+e}},emits:["callback","mountedCallback"],setup(a,{emit:i}){function o(t){t=t.toFixed(a.decimals);const e=(t+="").split(".");let l=e[0];const n=e.length>1?a.decimal+e[1]:"",r=/(\d+)(\d{3})/;if(a.separator&&(i=a.separator,isNaN(parseFloat(i))))for(;r.test(l);)l=l.replace(r,"$1".concat(a.separator,"$2"));var i;return a.prefix+l+n+a.suffix}const u=t(o(a.startVal)),s={localStartVal:a.startVal,printVal:null,paused:!1,localDuration:a.duration,startTime:null,timestamp:null,remaining:null,rAF:null};function d(){s.localStartVal=a.startVal,s.startTime=null,s.localDuration=a.duration,s.paused=!1,s.rAF=p(V)}const c=e((()=>a.startVal>a.endVal));function V(t){s.startTime||(s.startTime=t),s.timestamp=t;const e=t-s.startTime;s.remaining=s.localDuration-e,a.useEasing?c.value?s.printVal=s.localStartVal-a.easingFn(e,0,s.localStartVal-a.endVal,s.localDuration):s.printVal=a.easingFn(e,s.localStartVal,a.endVal-s.localStartVal,s.localDuration):c.value?s.printVal=s.localStartVal-(s.localStartVal-a.endVal)*(e/s.localDuration):s.printVal=s.localStartVal+(a.endVal-s.localStartVal)*(e/s.localDuration),c.value?s.printVal=s.printVal<a.endVal?a.endVal:s.printVal:s.printVal=s.printVal>a.endVal?a.endVal:s.printVal,u.value=o(s.printVal),e<s.localDuration?s.rAF=p(V):i("callback")}return l((()=>a.startVal),(()=>{a.autoplay&&d()})),l((()=>a.endVal),(()=>{a.autoplay&&d()})),n((()=>{a.autoplay&&d(),i("mountedCallback")})),r((()=>{m(s.rAF)})),{displayValue:u}}},[["render",function(a,t,e,l,n,r){return u(),i("span",null,o(l.displayValue),1)}]]);export{V as _};
