
/**
 * 由 flying services 提供技术支持
 * Powered by Hector
 */
  
var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;import{O as d,Y as o,K as n,I as m,L as u,a1 as p,S as c,a9 as f,a3 as b,b0 as g,aI as y,T as h,U as v,aB as _,J as j,R as O,F as x,aX as w}from"./vendor-kx7r3U2-.js";import{_ as z}from"./index-C_qy4oKs.js";import{u as V,M as I}from"./index-1kZVT1Y0.js";import{u as P}from"./username-DYNwlKfu.js";import"./buffer-BJ2qglEo.js";import"./back_white_icon-8wmrRgZw.js";const q={class:"normal-page"},S={style:{padding:"16px"}},U=["src"],k=["src"],R=d({name:"Real"}),X=d(a(((e,a)=>{for(var s in a||(a={}))r.call(a,s)&&i(e,s,a[s]);if(t)for(var s of t(a))l.call(a,s)&&i(e,s,a[s]);return e})({},R),s({setup(e){const{userInfo:a}=o(V()),{getUserInfo:s}=V(),t=j(),r=n((()=>a.value.sfz_name&&a.value.sfz_number)),l=m({name:"",idcard:""}),i=e=>{w({type:"loading",overlay:!0}),I(l).then((e=>{0==e.data.code&&(s(),x({type:"success",message:"实名认证已提交"}),t.push({name:"Setting"}))}))};return u((()=>a.value),(e=>{e.sfz_name&&(l.name=e.sfz_name),e.sfz_number&&(l.idcard=e.sfz_number)}),{immediate:!0}),u((()=>r.value),(e=>{x({type:"success",message:"您已经完成实名认证"})}),{immediate:!0}),(e,a)=>{const s=z,t=y,d=v,o=g;return O(),p("div",q,[c(s,{title:"实名认证"}),f("div",S,[c(o,{onSubmit:i,required:"",class:"login-form self-form"},{default:b((()=>[c(t,{modelValue:h(l).name,"onUpdate:modelValue":a[0]||(a[0]=e=>h(l).name=e),name:"name",type:"text",disabled:!!h(r),placeholder:"请输入真实姓名",rules:[{required:!0,message:"请输入真实姓名"}]},{"left-icon":b((()=>[f("img",{src:h(P),width:"24",height:"24",alt:""},null,8,U)])),_:1},8,["modelValue","disabled"]),c(t,{modelValue:h(l).idcard,"onUpdate:modelValue":a[1]||(a[1]=e=>h(l).idcard=e),type:"text",name:"idcard",disabled:!!h(r),placeholder:"请输入身份证号",rules:[{required:!0,message:"请输入身份证号"},{pattern:/(^\d{15}$)|(^\d{17}[\dXx]$)/,message:"请输入正确身份证号"}]},{"left-icon":b((()=>[f("img",{src:h(P),width:"24",height:"24",alt:""},null,8,k)])),_:1},8,["modelValue","disabled"]),c(d,{class:"submit-button",size:"large",block:"",type:"primary","native-type":"submit",disabled:!!h(r),style:{"margin-top":"48px"}},{default:b((()=>a[2]||(a[2]=[_(" 提交 ")]))),_:1},8,["disabled"])])),_:1})])])}}})));export{X as default};
