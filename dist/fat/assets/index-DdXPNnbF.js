
/**
 * 由 flying services 提供技术支持
 * Powered by Hector
 */
  
var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;import{O as o,Y as l,H as c,K as u,M as d,b1 as g,a1 as m,S as p,a9 as f,a3 as v,T as b,as as _,U as h,ac as y,b2 as j,J as w,aB as O,at as x,R as k}from"./vendor-kx7r3U2-.js";import{_ as S}from"./index-DubjrKl5.js";import{_ as D}from"./index-CZGXzAI9.js";import{_ as I}from"./index-C_qy4oKs.js";import{u as T,I as C,h as H,J as M,K as P,L as U,t as Y,_ as z}from"./index-1kZVT1Y0.js";import{s as L}from"./star-e008Shmq.js";import"./buffer-BJ2qglEo.js";import"./bg-2-bcIQGS7T.js";import"./back_white_icon-8wmrRgZw.js";const N={class:"normal-page"},B={class:"signin-card"},J={style:{"font-size":"18px","font-weight":"600","text-align":"center","margin-bottom":"16px"}},K={class:"normal-card"},E=["innerHTML"],G={class:"signin-pop"},R={class:"signin-text"},V=["src"],$=o({name:"Home"});const q=z(o(a(((e,a)=>{for(var s in a||(a={}))n.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))i.call(a,s)&&r(e,s,a[s]);return e})({},$),s({setup(e){const a="USDT",{userDetail:s,isVip:t,userInfo:n}=l(T()),{getUserInfo:i,getUserDetail:r}=T(),o=c([]),z=w(),$=c(!1),q=c(Object.assign({},C)),A=u((()=>{var e=d().format("YYYY-MM-DD");return o.value.some((a=>a.create_at.slice(0,10)===e))}));function F(){M({is_team:Number(t.value)}).then((e=>{o.value=e.data.data.data}))}const Q=c(!1);function W(){Q.value||(Q.value=!0,(t.value?P:U)().then((e=>{$.value=!0,F(),i(),r()})).finally((()=>{Q.value=!1})))}const X=u((()=>H(q.value.content||"").replace(/<img/g,'<img  width="100%"')));return g((()=>{F(),Y({code:t.value?"inside_signin_rule":"outside_signin_rule"}).then((e=>{q.value=e.data.data}))})),(e,i)=>{const r=h,o=I,l=D,c=S,u=x,d=j;return k(),m("div",N,[p(o,{background:!1,backIconTag:2},{right:v((()=>[p(r,{type:"primary",size:"small",onClick:i[0]||(i[0]=e=>b(z).push({name:"SigninHistory"}))},{default:v((()=>i[3]||(i[3]=[O("签到记录")]))),_:1})])),_:1}),i[5]||(i[5]=f("div",{class:"green-bg"},null,-1)),p(l,{imgSrc:b("/assets/signin_bg-ChT6Gigr.png"),router:"Signin"},null,8,["imgSrc"]),f("div",B,[f("div",J,_(b(t)?"团队":"会员")+"签到已获得 "+_(b(t)?b(s).signin_money:b(s).outside_signin_money)+" "+_(b(a)),1),p(r,{color:"linear-gradient(to right, #13B756, #78C465)",round:"",block:"",disabled:b(A),loading:b(Q),onClick:W},{default:v((()=>[O(_(b(A)?"已":"立即")+"签到 ",1)])),_:1},8,["disabled","loading"])]),f("div",K,[p(c,{title:"签到规则"}),f("div",{innerHTML:b(X)},null,8,E)]),p(d,{show:b($),"onUpdate:show":i[2]||(i[2]=e=>y($)?$.value=e:null),"close-on-click-overlay":!1,style:{background:"transparent",width:"360px"}},{default:v((()=>[f("div",G,[f("div",R,[i[4]||(i[4]=O(" 恭喜您获得 ")),f("img",{src:b(L),alt:"",height:"36",width:"36"},null,8,V),f("span",null,_(b(t)?Number(b(n).level_signin_amount)||0:Number(b(n).outside_level_sign_amount)||0),1),O(_(b(a)),1)])]),p(u,{class:"close-icon",size:"40",name:"close",color:"#fff",onClick:i[1]||(i[1]=e=>$.value=!1)})])),_:1},8,["show"])])}}}))),[["__scopeId","data-v-c2f3ef7a"]]);export{q as default};
