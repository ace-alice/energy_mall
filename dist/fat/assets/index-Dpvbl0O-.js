
/**
 * 由 flying services 提供技术支持
 * Powered by Hector
 */
  
var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,l=(e,a)=>{for(var r in a||(a={}))n.call(a,r)&&s(e,r,a[r]);if(t)for(var r of t(a))o.call(a,r)&&s(e,r,a[r]);return e},i=(e,t)=>a(e,r(t));import{_ as u}from"./index-BgQy6iVy.js";import{Y as m,I as c,H as d,J as p,F as f,a$ as b,aR as v,O as g,L as y,a1 as h,a9 as j,S as _,T as O,R as x,a3 as P,b0 as S,U as I,aB as T,aI as k}from"./vendor-kx7r3U2-.js";import{_ as V}from"./index-C_qy4oKs.js";import{_ as w}from"./index-CZGXzAI9.js";import{u as R,l as U,_ as D}from"./index-1kZVT1Y0.js";import{r as q}from"./recharge-D8xkyLHn.js";import{_ as A}from"./index-BqpPi2bc.js";import"./buffer-BJ2qglEo.js";import"./back_white_icon-8wmrRgZw.js";import"./bg-2-bcIQGS7T.js";const B={class:"money-info"},$=g({name:"BalanceBox"}),z=D(g(i(l({},$),{setup(e){const{userInfo:a}=m(R()),r=d(0);return y((()=>a.value.money),((e,a)=>{r.value=+a})),(e,t)=>{const n=A;return x(),h("div",B,[j("div",null,[t[0]||(t[0]=j("div",null,"商城余额(元)",-1)),j("div",null,[_(n,{"end-val":Number(O(a).money),"start-val":O(r)},null,8,["end-val","start-val"])])])])}}})),[["__scopeId","data-v-688c8c10"]]),C={class:"normal-page"},E={class:"normal-card"},F={class:"title"},H=["src"],J={class:"title"},L=["src"],M=g({name:"Transfer"}),N=D(g(i(l({},M),{setup(e){const a=p(),{onSubmit:r,formData:t,toTransfer:n,normalPinActionRef:o}=function(){const e=p(),{userInfo:a}=m(R()),{getUserInfo:r,getUserDetail:t}=R(),n=c({amount:void 0,phone:void 0}),o=d();return{router:e,onSubmit:function(){n.amount=Math.abs(n.amount||0),(+a.value.money||0)<+(n.amount||0)?f({type:"fail",message:"您的余额不足"}):b((()=>{o.value&&o.value.toOpenPin()}))},formData:n,normalPinActionRef:o,toTransfer:function(a){f({type:"loading",overlay:!0}),U(i(l({},n),{pin:a})).then((a=>{v(),r(),t(),f({type:"text",message:"转账申请已成功发送"}),setTimeout((()=>{e.push({name:"TransferOrder"})}),200)})).catch((e=>{}))}}}();return(e,s)=>{const l=w,i=I,m=V,c=k,d=S,p=u;return x(),h("div",C,[_(l,{router:"Transfer"}),_(m,{background:!1,title:"转账"},{right:P((()=>[_(i,{plain:"",round:"",size:"small",type:"success",style:{background:"none"},onClick:s[0]||(s[0]=e=>O(a).push({name:"TransferOrder"}))},{default:P((()=>s[3]||(s[3]=[T("转账记录")]))),_:1})])),_:1}),_(z),j("div",E,[_(d,{onSubmit:O(r),required:"",class:"login-form self-form add-form"},{default:P((()=>[j("div",F,[j("img",{src:O(q),alt:"",height:"24"},null,8,H),s[4]||(s[4]=T("对方手机号"))]),_(c,{modelValue:O(t).phone,"onUpdate:modelValue":s[1]||(s[1]=e=>O(t).phone=e),name:"phone",type:"number",placeholder:"请输入对方手机号",rules:[{required:!0,message:"请输入对方手机号"},{validator:e=>{const a=String(null!=e?e:"").trim();return!a||/^1\d{10}$/.test(a)},message:"手机号格式不正确"}]},null,8,["modelValue","rules"]),j("div",J,[j("img",{src:O(q),alt:"",height:"24"},null,8,L),s[5]||(s[5]=T("转账金额"))]),_(c,{modelValue:O(t).amount,"onUpdate:modelValue":s[2]||(s[2]=e=>O(t).amount=e),type:"number",name:"amount",rules:[{required:!0,message:"请输入转账金额"}],placeholder:"请输入转账金额"},null,8,["modelValue"]),_(i,{class:"submit-button",size:"large",block:"",type:"primary","native-type":"submit",style:{"margin-top":"80px"}},{default:P((()=>s[6]||(s[6]=[T(" 申请转账 ")]))),_:1})])),_:1},8,["onSubmit"])]),_(p,{ref_key:"normalPinActionRef",ref:o,onSubmit:O(n)},null,8,["onSubmit"])])}}})),[["__scopeId","data-v-90a3a0e1"]]);export{N as default};
